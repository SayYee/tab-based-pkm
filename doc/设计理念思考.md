# 前言

首先要有设计的理念，然后才有软件的实现，软件要有实用价值，而不是单纯拿来炫技。

这里会记录下我对于资源管理的一些看法，也就是这个软件核心目的的一个思考过程。因为自己也是在摸索当中，尝试着思考完善资源管理的一些理念，我想要把这个过程记录下来，防止自己遗忘（想法有了，具体的技术实现可能还是需要好好思考，尤其前端很影响使用体验，但是又不擅长需要慢慢选型实现）；也能展示出来和大家学习交流，继续完善设计理念。

这里尽量不涉及具体的技术实现。记录思考完善后的结果，后续一定会在程序中体现出来。



# 设计理念

## 基于标签+文件名描述的本地资源管理系统

之前使用过很多的笔记系统，有道、VNote、羽雀、OneNote，书写体验暂且不提，主要是即使在里面记录了很多的内容，也很少会去翻看，想了想主要是两方面的原因：

1. 笔记散落的导出都是。想要搜索一个东西，都不知道该去哪个地方找
2. 检索功能有点差强人意。这些笔记软件，大多支持全文检索。但是全文检索对于个人笔记真的有意义吗？
   1. 个人觉得全文检索有点过于强大了，会返回一大堆的搜索结构，信息过量，比如百度搜索会出来一大堆的东西，太多跟太少都有问题。
   2. 这些信息也不一定有效，全文检索只能判断文章中包含指定的文字，但是文章是否是在介绍你想要的内容那就需要你自己进去看了
3. 标签功能不尽如人意。对于标签的支持总是感觉很简单，很普通的一个CRUD，作用有限



我觉得笔记的记录过程很重要，但是总用不到笔记，也就失去了记录的意义。记录笔记的过程可能需要耗费些心思，检索的过程却应该越方便越好。



在探索的过程中，我接触到了 [dendron](https://github.com/dendronhq/dendron) 这个项目。这个项目试图构建一个个人的知识库管理系统，这个项目基于vscode进行构建，使用层级标签作为核心概念，作者详细描述了自己的知识库探索过程，提及了知识库背后的一些理论，在阅读了他的博客之后，我决定以标签作为系统的核心元数据，提供基于标签的检索、修改标签、标签批处理功能。



我的设想是做一个本地资源管理系统。提供基于标签的检索功能，具体的文件内容的操作，则交给专业的软件去做。我可以在羽雀中写笔记，也可以用有道、OneNote、ProcessOn，也可以用Typora，但是所有的这些笔记，都可以通过这个资源管理系统借助标签检索到。

仅做资源管理，资源编辑可以选择自己喜欢的任何软件。

具体来说，这个本地资源管理系统中维护的每条数据，有两个主要的部分，标签集合、文件定位符。

- 标签集合
  - 一个文件可以关联多个标签
  - 标签可以被添加、移除，可以批量修改
- 文件定位符
  - 这里区分为两种，本地资源（比如本地的md、txt文件）、网络资源（url）
  - 为了统一处理，网络资源在录入系统时，会生成一个html文件，里面包含了url跳转逻辑
  - 通过文件定位符，就可以通过系统默认的软件打开文件进行查看、编辑等操作
  - 文件定位符对应的本地文件，都由资源管理系统进行管理，因此需要通过系统来进行添加、删除、重命名的操作

这个系统，本质上是一个基于标签的本地资源管理系统，但是我在使用的时候，是把它当作知识库来使用的。在满足基本的文件操作之后，主要会朝着方便进行知识管理的方向改进。

## 标签树的出现

在使用过程中，随着标签数量的增长，需要有一个地方能够记录已经添加的标签，同时方便检索，因为添加了标签树

标签树中可以放入常用的检索集合，可以点击标签树加快检索



## 基于层级结构维护的标签树-20210826

原本的标签添加逻辑是，自己凭感觉，觉得应该加什么标签，就加上去。但是随着笔记数量的增加，逐渐变得混乱。必须要有层级结构才行，先建立标签结构，然后在结构下添加笔记

- 标签必须用层级结构组织起来。一个标签可以出现在不同的层级结构中
- 一个文件可以属于多个层级结构。
  - 比如 `note.儒猿.JVM实战`，这是记录笔记时使用的结构，其中的笔记又可以属于 `jvm.类加载`和 `jvm.垃圾回收.GC日志`这些结构。
- 一个层级结构中可以有多个笔记文件，如果笔记数量太多，可以继续向下增加层级。



检索的过程就变成了，先从标签结构树中检索到对应的标签集合，然后再通过集合检索文件。

其实还是标签树的使用，不同的是使用的思路发生了变化，标签树变得更加重要了，优先级更高。



这里的关键在于标签层级结构的建立。刚开始的时候对一个东西不了解，不怎么容易建立起相应的结构。比如按照课程或者书本学习jvm，刚开始可能是不知道该划分哪些标签，他们之间的联系一时半会儿也难以弄清。

我这里的做法是，首先按照学习的载体来建立标签，比如`note.儒猿.JVM实战`，先建立这样一个标签层级，在学习的过程中，每篇笔记中都会有总结的部分，尝试用少量的语句总结这篇笔记的整体内容，同时会建立一个大纲笔记，在里面整理整个课程的大纲。这样等学习完整个课程之后，对于所学的知识已经有了较为系统的认识，这个时候就可以建立标签层级，然后按照建立好的层级，为每个笔记添加上新的标签。

这里的理念是，对一个东西不了解的时候，是没法一步到位整理出层级结构，所以需要步步为营，每次总结一小部分，然后再根据每个笔记总结的部分，整理出来总体的大纲。

大纲总是不完善的，因为知识会不断的增长，软件会尽可能的让层级结构的变更变得容易、高效，让变更可以成为常态的行为。

这个完成之后，下一步的优化方向，应该就是 标签层级树 的使用体验优化了。
